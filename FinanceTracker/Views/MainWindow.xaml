<Window x:Class="FinanceTracker.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:v="clr-namespace:FinanceTracker.Views"
        xmlns:vm="clr-namespace:FinanceTracker.ViewModels"
        xmlns:res="clr-namespace:FinanceTracker.Resources"
        Title="Finance Tracker"
        Height="480" Width="800"
        MinHeight="480" MinWidth="800"
        Background="{DynamicResource AppBackground}"
        WindowStartupLocation="CenterScreen">

    <!-- Keyboard shortcuts for common commands -->
    <Window.InputBindings>
        <KeyBinding Key="O" Modifiers="Control" Command="{Binding OpenCommand}" />
        <!-- Ctrl+O to open -->
        <KeyBinding Key="S" Modifiers="Control" Command="{Binding SaveCommand}" />
        <!-- Ctrl+S to save -->
        <KeyBinding Key="S" Modifiers="Control+Shift" Command="{Binding SaveAsCommand}" />
        <!-- Ctrl+Shift+S to save as -->
        <KeyBinding Key="Q" Modifiers="Control" Command="{Binding ExitCommand}" />
        <!-- Ctrl+Q to exit -->
    </Window.InputBindings>

    <!-- Data templates for dynamic view loading -->
    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:ChartViewModel}">
            <v:ChartView/>
            <!-- Show ChartView when ChartViewModel is active -->
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:BudgetViewModel}">
            <v:BudgetView/>
            <!-- Show BudgetView when BudgetViewModel is active -->
        </DataTemplate>
    </Window.Resources>

    <DockPanel>
        <!-- Main menu bar -->
        <Menu DockPanel.Dock="Top">
            <!-- File menu -->
            <MenuItem Header="{x:Static res:AppResources.Menu_File}">
                <MenuItem Header="{x:Static res:AppResources.Menu_Open}" Command="{Binding OpenCommand}" InputGestureText="Ctrl+O" ToolTip="{x:Static res:AppResources.Tooltip_Open}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8E5;" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="{x:Static res:AppResources.Menu_Save}" Command="{Binding SaveCommand}" InputGestureText="Ctrl+S" ToolTip="{x:Static res:AppResources.Tooltip_Save}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE74E;" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="{x:Static res:AppResources.Menu_SaveAs}" Command="{Binding SaveAsCommand}" InputGestureText="Ctrl+Shift+S" ToolTip="{x:Static res:AppResources.Tooltip_SaveAs}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE7C3;" />
                    </MenuItem.Icon>
                </MenuItem>
                <Separator/>
                <MenuItem Header="{x:Static res:AppResources.Menu_Exit}" Command="{Binding ExitCommand}" InputGestureText="Ctrl+Q" ToolTip="{x:Static res:AppResources.Tooltip_Exit}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE711;" />
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>

            <!-- Settings menu -->
            <MenuItem Header="{x:Static res:AppResources.Menu_Settings}">
                <MenuItem Header="{x:Static res:AppResources.Menu_ChangeTheme}" Command="{Binding ChangeThemeCommand}" ToolTip="{x:Static res:AppResources.Tooltip_ChangeTheme}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE790;" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="{x:Static res:AppResources.Menu_ChangeLanguage}" Command="{Binding ChangeLanguageCommand}" ToolTip="{x:Static res:AppResources.Tooltip_ChangeLanguage}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE909;" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="{x:Static res:AppResources.Menu_ClearData}" Command="{Binding ClearDataCommand}" ToolTip="{x:Static res:AppResources.Tooltip_ClearData}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE74D;" />
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>

            <!-- Help menu -->
            <MenuItem Header="{x:Static res:AppResources.Menu_Help}">
                <MenuItem Header="{x:Static res:AppResources.Menu_About}" Command="{Binding ShowAboutCommand}" ToolTip="{x:Static res:AppResources.Tooltip_About}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE946;" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="{x:Static res:AppResources.Menu_UserGuide}" Command="{Binding OpenUserGuideCommand}" ToolTip="{x:Static res:AppResources.Tooltip_UserGuide}">
                    <MenuItem.Icon>
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE82D;" />
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>
        </Menu>

        <!-- Bottom status bar with message and buttons -->
        <Grid DockPanel.Dock="Bottom" Height="50">
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <!-- Status text row -->
                <RowDefinition Height="35"/>
                <!-- Buttons row -->
            </Grid.RowDefinitions>

            <!-- Status message display with fade in/out animation -->
            <TextBlock Text="{Binding StatusMessage}" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="LimeGreen" FontWeight="Bold" Opacity="0">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsStatusVisible}" Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>

            <!-- Navigation buttons for main sections -->
            <StackPanel Grid.Row="1"
                Orientation="Horizontal"
                HorizontalAlignment="Center">
                <Button Content="{x:Static res:AppResources.Button_Expenses}" Width="120" Margin="5" Command="{Binding ShowExpensesCommand}"/>
                <Button Content="{x:Static res:AppResources.Button_Charts}" Width="120" Margin="5" Command="{Binding ShowChartsCommand}"/>
                <Button Content="{x:Static res:AppResources.Button_Budget}" Width="120" Margin="5" Command="{Binding ShowBudgetCommand}"/>
            </StackPanel>
        </Grid>

        <!-- Main content area where views are loaded dynamically -->
        <ContentControl x:Name="MainContent" />
    </DockPanel>
</Window>